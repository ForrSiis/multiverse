To fix urgently:

Highlighting /unaddressing not working
Ajax operations not working at all? (cardlist deletion also)

RAILS TODO BEFORE DEPLOY:

/ Fix bug in [[card image]]
/ Confirm cardset recent_action updates also update cardset.updated_at 
/ Update magicmultiverse.net redirect
/ Make new header image
/ Write auto-redirect-to-corresponding-page (including working on cardsets that aren't in this database)
/ Qualify auto-redirect-to-corresponding-page on [old staging server]
/ Detect hard links to new and old site and make both give popups

DEPLOY PROCESS:
* Push to new heroku server
* Test assorted things on toy data on new live server
/| Put old site into maintenance mode
-- Download old database
-- Push database to new site
-- Edit Heroku billing to allow new db to grow
/| heroku run rails runner Rails.cache.clear
/| heroku run rails runner Cardset.all.each do :update_timestamp_from_logs end
-- Test new live server with new database
/| Push auto-redirect-to-corresponding-page to old site
*| Bring old site out of maintenance mode
- Delete database on old site
- Edit Heroku billing to remove old db 

----


Bugs to fix before push:
* Tabbing past "watermark none" sends a request for /cards/1234/undefined. 

To test before push:
* Changing each of to each of:
 - DFC, split, flip, forced-planeswalker, forced-token, coloured artifact, colourless artifact, two-colour-gold, three-colour-gold

Bugs:
* Forced token with forced colour (possibly also with DFC?) can get its database frame set to "token Red token", and thus lose its frame setting to "Auto", because frame_display comes back as "token Red"
------

To make whole-VS page:

* Look up syntax to Rails.cache.read
* Make vs page cache the frame letters for this cardset
* No need to cache the frame buttons or will_paginate
* Cache what's inside that instead

* Read my JS for hovers to find Ajax syntax
* Algorithm for whole-VS page:

- Precalc what pages we're expecting (Split frame letters into pages) & generate JS that knows that
- Generate JS with an onload to request first fragment. This request has an onSuccess to append this section, increment some counter & request the next fragment.
* Put a loading spinny at the bottom. Final onSuccess hides the spinny.


----------------

 = Fix guild watermarks to new ones.
* Got new ones for RtR; still need for Gtc. 